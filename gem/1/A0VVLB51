ä½œè€…: itoc (League) çœ‹æ¿: plan
æ¨™é¡Œ: [åŠŸèƒ½] ç¨‹å¼è™•ç† FAQ
æ™‚é–“: 2004/01/06 Tue 20:38:20                           Updated: 2005/05/19

  è®“ç¨‹å¼å»è™•ç† FAQ

: menu.c:menu_user[] æ–°å¢é¸é …

  faq, 0, M_XMODE,
  "0FAQ       ã€Š æˆ‘æœ‰å•é¡Œ ã€‹",

: menu.c:faq() åŠ åœ¨ goodbye() ä¸‹é¢

static int
faq()
{
  int rc;
  char *menu[] =
  {
    "QQ",
    "Quit  å•é¡Œå•å®Œäº†",
    "1     çœ‹æ¿ä¸è¦‹äº†",
    "2     ä¸èƒ½ç™¼è¡¨æ–‡ç« ",
    "3     ä¸èƒ½ä½¿ç”¨ç°½åæª”",
    "0     å…¶ä»–",
    NULL
  };

  while (1)
  {
    rc = pans(3, 20, "å¸¸è¦‹å•é¡Œ", menu);

    if (rc == '1')
    {
      int bno;
      BRD *brd;
      char bname[BNLEN + 1];
      extern BCACHE *bshm;
      extern char brd_bits[];

      if (brd = ask_board(bname, BRD_L_BIT, NULL))
      {
        bno = brd - bshm->bcache;
        brd_bits[bno] &= ~BRD_Z_BIT;
        brh_save();
        board_main();
        vmsg("è™•ç†å®Œæˆ");
      }
    }
    else if (rc == '2')
    {
      if (HAS_PERM(PERM_DENYPOST))
        vmsg("æ‚¨å·²ç¶“è¢«åœæ¬Šäº†");
      else if (!HAS_PERM(PERM_VALID))
        vmsg("æ‚¨å°šæœªé€šéèªè­‰å–”");
#ifdef NEWUSER_LIMIT
      else if (!HAS_PERM(PERM_POST))
      {
        if (ap_start - time(NULL) >= 3 * 86400)
          vmsg("è«‹é‡æ–°ä¸Šç«™ï¼Œå°±å¯ä»¥äº†");
        else
          vmsg("æ–°æ‰‹ä¸Šè·¯ï¼Œè¦‹ç¿’ä¸‰å¤©ï¼Œæ‚¨å¿…é ˆåœ¨è¨»å†Šæ»¿ä¸‰å¤©ä»¥å¾Œæ‰èƒ½ç™¼è¡¨æ–‡ç« ");
      }
#endif
      else
      {
        vmsg("æ‚¨æ˜æ˜å°±å¯ä»¥ç™¼è¡¨æ–‡ç« å•Šï½");
      }
    }
    else if (rc == '3')
    {
      cuser.ufo &= ~UFO_NOSIGN;
      cutmp->ufo = cuser.ufo;
      vmsg("è™•ç†å®Œæˆ");
    }
    else if (rc == '0')
    {
      int bno;

      vmsg("è‹¥æœ‰å…¶ä»–ç–‘é›£é›œç—‡ï¼Œè«‹åœ¨ sysop æ¿æŒ‰ Ctrl+P å¯«æ–‡ç« å•ç«™é•·");
      bno = brd_bno("sysop");
      XoPost(bno);
      xover(XZ_POST);
#ifndef ENHANCED_VISIT
      time(&brd_visit[bno]);
#endif
    }
    else
    {
      return 0;
    }
  }
}


--
[1;37mâ–¡ æœ¬æ–‡ç« ç”± [33mitoc[37m å¾ [32mitoc.Dorm11.NCTU.edu.tw[37m ç™¼è¡¨[m
