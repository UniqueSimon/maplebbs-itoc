ç™¼ä¿¡äºº: itoc.bbs@cpu.tfcis.org (æ ¸å¿ƒå‹•åŠ›) çœ‹æ¿: plan
æ¨™  é¡Œ: Re: [å•é¡Œ] Cross-Post ç”¨ç¹³ç½°å–®çš„æ–¹å¼ ?
ç™¼ä¿¡ç«™: å‹•åŠ›æ ¸å¿ƒ (2005/04/05 Tue 12:01:25)                Updated: 2005/04/05

â€» å¼•è¿°ã€Šallean.bbs@micro.bio.ncue.edu.tw (allean)ã€‹ä¹‹éŠ˜è¨€ï¼š
>     æœ‰äº›ä½¿ç”¨è€…ä¸æƒ³ç­‰ä¸‰å¤©.èƒ½ä¸èƒ½è·Ÿ ptt ä¸€æ¨£.
>     ç”¨ç¹³ç½°å–®çš„æ–¹å¼.è§£é–‹æ¬Šé™ ?

  åœ¨åœæ¬Šæ™‚é–“æœªæ»¿æ™‚ï¼Œå¯ç”¨ç¹³è²»ä¾†æå‰å¾©æ¬Š

: user.c:u_deny()

    else
    {
      ptime = gmtime(&diff);
      sprintf(msg, "æ‚¨é‚„è¦ç­‰ %d å¤© %d æ™‚ %d åˆ† %d ç§’",
        ptime->tm_yday, ptime->tm_hour, ptime->tm_min, ptime->tm_sec);
      vmsg(msg);

+     if (!HAS_STATUS(STATUS_COINLOCK) &&
+       cuser.money >= 100000 &&            [1;44m //åƒ¹æ ¼è‡ªå®š [m
+       vans("æ˜¯å¦ç¹³éŒ¢æå‰è§£é™¤åœæ¬Šï¼Ÿ[N] ") == 'y')
+     {
+       if (acct_load(&acct, cuser.userid) >= 0)
+       {
+         cuser.money -= 100000;            [1;44m //åƒ¹æ ¼è‡ªå®š [m
+         time(&acct.tvalid);
+#ifdef JUSTIFY_PERIODICAL
+         acct_setperm(&acct, 0, PERM_ALLVALID | PERM_ALLDENY);
+#else
+         acct_setperm(&acct, 0, PERM_ALLDENY);
+#endif
+         vmsg("ä¸‹æ¬¡è«‹å‹¿å†çŠ¯");
+       }
+     }
    }

--
 [1;43mâ—¤[46mâ—¥[m Or[1mig[30min[m: [41m Maple-itocË™å‹•åŠ›æ ¸å¿ƒ [36;47m cpu.tfcis.org [m
 [1;44mâ—£[41mâ—¢[m A[1mut[30mho[mr: [1;33mitoc [30må¾ [31mitoc.Dorm11.NCTU.edu.tw [30mç™¼è¡¨[m
