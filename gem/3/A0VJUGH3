ç™¼ä¿¡äºº: itoc.bbs@xeon.tfcis.org (ç¶ å·¨äººå¥½å®¢ï¼Ÿ) çœ‹æ¿: plan
æ¨™  é¡Œ: Re: [åŠŸèƒ½] æ¿ä¸»è‡ªè¡Œå¢è¨­å‰¯æ¿ä¸»
ç™¼ä¿¡ç«™: å‹•åŠ›æ ¸å¿ƒ (Mon, 04 Aug 2003 01:32:35 +0800 (CST))  Updated: 2005/06/27

â€» å¼•è¿°ã€Šxeon (Xeon Chen)ã€‹ä¹‹éŠ˜è¨€ï¼š
> é™å®šå‰¯æ¿äººæ•¸

: manage.c:post_changeBM()

  int dirty, len;
+ int num_bm;          /* å‰¯æ¿ä¸»å€‹æ•¸(ä¸åŒ…æ‹¬æ­£æ¿ä¸») */
+ char *str, *ptr;

  oldbrd = bshm->bcache + currbno;

  blist = oldbrd->BM;
  if (is_bm(blist, cuser.userid) != 1)  /* åªæœ‰æ­£æ¿ä¸»å¯ä»¥è¨­å®šæ¿ä¸»åå–® */
    return XO_FOOT;

+ num_bm = 0;
+ for (str = blist; ptr = strchr(str, '/'); str = ptr + 1)
+   num_bm++;

  memcpy(&newbrd, oldbrd, sizeof(BRD));

  ...
  ...

    if (!strcmp(uid, "ç„¡"))
    {
      strcpy(buf, cuser.userid);
      dirty = strlen(buf);
+     num_bm = 0;
    }
+   else if (num_bm >= 2)           [1;44m// è¦é™åˆ¶å¹¾å€‹åœ¨é€™æ”¹ [m
+   {
+     vmsg("è‡³å¤šåªèƒ½è¨­å®šäºŒä½å‰¯æ¿ä¸»");
+     continue;
+   }
    else if (acct_load(&acct, uid) >= 0 && !is_bm(buf, acct.userid))
    {
      ...
      ...
      acct_setperm(&acct, PERM_BM, 0);
+     num_bm++;
    }

--
[1;36m=[37m[[36mï¹[37m:[33m?[37mæ‘ƒ?[mâ—£?[1;33m?[37m:[36mï¹ [31mOrigin[37m ]|[[m     [31m?[1må¨[0;31mO?[1mç—[0;31m?[1mprocessor.tfcis.org    [37m]|[?[33mæŸèªª[m?[1;36mï¹[37m:][36m=[m
[1;36m=[m[[1;36mï¹Š[37m:[33m?[30mæ‘ƒ?[mâ•±?[1;33m?[37m:[36mï¹Š [31mAuthor[m ]|[ [1m    itoc.dorm11.nctu.edu.tw         [m]|[?[1;33m?[30m?[37mæ’[30m?[36mï¹Š[37m:[m][1;36m=[m
