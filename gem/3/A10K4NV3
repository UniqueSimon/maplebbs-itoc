ä½œè€…: itoc (æ ¸å¿ƒå‹•åŠ›) çœ‹æ¿: itoc
æ¨™é¡Œ: Re: [å•é¡Œ]é—œæ–¼æ¿å‹æ¸…å–®
æ™‚é–“: 2004/09/07 Tue 11:27:49                           Updated: 2005/01/05

â€» å¼•è¿°ã€ŠScottYu.bbs@scottyu.twbbs.org (å¤œå…‰é˜¿ç‰¹ -å¤§å®¶æ™šå®‰)ã€‹ä¹‹éŠ˜è¨€ï¼š
> åœ¨å¾žç§˜å¯†ã€å¥½å‹çœ‹æ¿åˆ‡æ›æˆä¸€èˆ¬çœ‹æ¿æ™‚ï¼Œ
> æˆ–æ˜¯å¾žä¸€èˆ¬çœ‹æ¿åˆ‡æ›æˆç§˜å¯†ã€å¥½å‹çœ‹æ¿æ™‚ï¼Œ
> æ¿å‹å°±è®Šæ°´æ¡¶ï¼Œæˆ–æ°´æ¡¶å°±è®Šæˆæ¿å‹ï¼Œ
> å¦‚æžœåå–®ä¸€å¤šç§»é™¤é‡åŠ ä¸¦ä¸æ–¹ä¾¿ã€‚
> å¸Œæœ›èƒ½åˆ‡æ›çœ‹æ¿å±¬æ€§å¾Œèƒ½è©¢å•æ˜¯å¦ç›´æŽ¥æ¸…æŽ‰åå–®ã€‚

: manage.c:post_brdlevel()

  if (memcmp(&newbrd, oldbrd, sizeof(BRD)) && vans(msg_sure_ny) == 'y')
  {
    memcpy(oldbrd, &newbrd, sizeof(BRD));
    rec_put(FN_BRD, &newbrd, sizeof(BRD), currbno, NULL);
+   if (vans("æ˜¯å¦æ¸…é™¤å¥½å‹/æ°´æ¡¶åå–®(Y/N)ï¼Ÿ[N] ") == 'y')
+   {
+     if ((oldbrd->readlevel == 0 &&
+       (newbrd.readlevel == PERM_BOARD || newbrd.readlevel == PERM_SYSOP)) ||
+       (newbrd.readlevel == 0 &&
+       (oldbrd->readlevel == PERM_BOARD || oldbrd->readlevel == PERM_SYSOP)))
+     {
+       static void bpal_cache();
+       char fpath[64];
+       brd_fpath(fpath, currboard, fn_pal);
+       unlink(fpath);
+       bpal_cache();
+     }
+   }
  }

--
 [1;41mâ•­[44mâ”¼[m Or[1mig[30min[m: [43m Maple-itocË™å‹•åŠ›æ ¸å¿ƒ [35;47m processor.tfcis.org [m
 [1;42mâ”¼[45mâ”˜[m A[1mut[30mho[mr: [1;31mitoc [30må¾ž [36mpc512-2.ee.nctu.edu.tw [30mç™¼è¡¨[m
