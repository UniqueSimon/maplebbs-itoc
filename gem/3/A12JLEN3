ç™¼ä¿¡äºº: allen501pc.bbs@bbs.sa.ncyu.edu.tw (çµ‚æ–¼å¿™å®Œäº†) çœ‹æ¿: plan
æ¨™  é¡Œ: [åŠŸèƒ½]è½‰éŒ„æ–‡ç« æœƒé¡¯ç¤ºè½‰é”ç›®çš„çœ‹æ¿ä½ç½®
ç™¼ä¿¡ç«™: æ–°ç¶ åœ’ (2006/10/22 Sun 01:55:05)                  Updated: 2006/10/22

é¡ä¼¼pttçš„åŠŸèƒ½ è½‰éŒ„æ–‡ç« æ™‚æœƒåœ¨ä¾†æºæ–‡ç« ä¸‹æ–¹è¨»æ˜çœ‹æ¿ç›®çš„åœ°èˆ‡è½‰éŒ„æ™‚é–“

ç•«é¢å¦‚ä¸‹ï¼š
[1;33;46m æ¨™é¡Œ [m sdgsdagsa
[1;33;46m æ™‚é–“ [m 2006/10/22 Sun 01:55:04
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

sadgdasgasd

--
    [1;32mâ•­â”€ Origin â”€â•— æ–°ç¶ åœ’æ¸¬è©¦ç«™ [31m --------------- [32m ï½ ÎºÎ»Î¼ â”€â”¤[m
    [1;32mâ”œ   Author   â•¡ [33;44m220-129-166-187.dynamic.hinet.net           [m
[32mâ€» allen501pc   è½‰éŒ„è‡³çœ‹æ¿ sysop                                   10/22 01:55[m
[32mâ€» allen501pc   è½‰éŒ„è‡³çœ‹æ¿ sysop                                   10/22 01:55[m
[32mâ€» allen501pc   è½‰éŒ„è‡³æŸç§˜å¯†çœ‹æ¿                                   10/22 01:56[m

: post.c:post_cross()

  /* å¾©åŸ currboardã€currbattr */
  if (method)
  {
    strcpy(currboard, tmpboard);
    currbattr = tmpbattr;
  }

+  if (!HAS_PERM(PERM_ALLADMIN))
+  {
+    time_t now;
+    struct tm *ptime;
+    usint level;
+
+    time(&now);
+    ptime = localtime(&now);
+    level = (bshm->bcache + xbno)->readlevel;
+    if (level == PERM_SYSOP || level == PERM_BOARD)
+      sprintf(buf, "â€» %-12s è½‰éŒ„è‡³æŸç§˜å¯†çœ‹æ¿", cuser.userid);
+    else
+      sprintf(buf, "â€» %-12s è½‰éŒ„è‡³çœ‹æ¿ %s", cuser.userid, xboard);
+    fpw = fopen(fpath, "a");
+    fprintf(fpw, "\033[32m%-67s%02d/%02d %02d:%02d\033[m\n",
+      buf, ptime->tm_mon + 1, ptime->tm_mday, ptime->tm_hour, ptime->tm_min);
+    fclose(fpw);
+  }

   vmsg("è½‰éŒ„å®Œæˆ");
   return XO_HEAD;
}

--
    [0;1;32mâ•­â”€ Origin â”€â•— æ–°ç¶ åœ’ [1;31m bbs.sa.ncyu.edu.tw [32m ï½ ÎºÎ»Î¼ â”€â”¤[m
    [1;32mâ”œ   Author   â•¡ [33;44m220-129-166-187.dynamic.hinet.net     [m
