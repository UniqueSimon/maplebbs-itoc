ç™¼ä¿¡äºº: itoc.bbs@processor.tfcis.org (æ ¸å¿ƒå‹•åŠ›) çœ‹æ¿: plan
æ¨™  é¡Œ: Re: è«‹å•~èªè­‰æœ‰è¾¦æ³•å¢åŠ é€™å€‹åŠŸèƒ½å—?
ç™¼ä¿¡ç«™: å‹•åŠ›æ ¸å¿ƒ (2003/12/24 Wed 11:27:51)                Updated: 2005/04/29

â€» å¼•è¿°ã€Šsbs (SBS)ã€‹ä¹‹éŠ˜è¨€ï¼š
> åœ¨ç”¨Colaçš„æ™‚å€™ï¼Œæœ‰ä¸€å€‹åŠŸèƒ½å°±æ˜¯ç•¶ç«™é•·å¯©æ ¸
> å®Œè¨»å†Šå–®å¾Œï¼Œæœƒè‡ªå‹•å°‡å…§å®¹POåœ¨ä¸€å€‹æ¿ä¸Šï¼Œ
> æ¨™é¡Œæœƒè¨»æ˜[ç¢ºèªæˆåŠŸ]or[ç¢ºèªå¤±æ•—]
> åŒæ™‚é‚£ç¯‡æ–‡ç« å°±æœƒå‡ºç¾ä½¿ç”¨è€…è¨»å†Šçš„å…§å®¹ã€
> ç”±èª°å¯©æ ¸ã€æ™‚é–“ç­‰ã€‚
> é€™æ¨£çš„å¥½è™•æ˜¯ç•¶æœ‰å¯¦ç¿’ç«™é•·åœ¨è™•ç†æ™‚ï¼Œ
> ä½ å¯ä»¥çœ‹é‚£å€‹æ¿å°±çŸ¥é“ä»–æœ‰æ²’æœ‰äº‚èªè­‰

  å…ˆåšç²¾è¯å€é€™ç¯‡
  [åŠŸèƒ½] post.c ç™¼æ–‡åˆ°çœ‹æ¿

: admutil.c æ–°å¢ä»¥ä¸‹å‡½å¼åœ¨ scan_register_form() å‰é¢

static void
log_register(rform, pass)
  RFORM *rform;
  int pass;
{
  char fpath[64], title[TTLEN + 1];
  FILE *fp;

  sprintf(fpath, "tmp/log_register.%s", cuser.userid);   /* æš«å­˜æª” */
  if (fp = fopen(fpath, "w"))
  {
    sprintf(title, "ç«™é•· %s å¯©æ ¸ %s çš„è¨»å†Šå–®%sé€šé",
      cuser.userid, rform->userid, pass ? "" : "ä¸");

    /* æ–‡ç« æª”é ­ */
    fprintf(fp, "%s %s (%s) %s %s\n",
      str_author1, cuser.userid, cuser.username,
      str_post2, BN_SECURITY);
    fprintf(fp, "æ¨™é¡Œ: %s\næ™‚é–“: %s\n\n", title, Now());

    /* æ–‡ç« å…§å®¹ */
    fprintf(fp, "%s\n\n", title);
    fprintf(fp, "ç”³è«‹ä»£è™Ÿ: %s (ç”³è«‹æ™‚é–“ï¼š%s)\n",
      rform->userid, Btime(&(rform->rtime)));
    fprintf(fp, "æœå‹™å–®ä½: %s\n", rform->career);
    fprintf(fp, "ç›®å‰ä½å€: %s\n", rform->address);
    fprintf(fp, "é€£çµ¡é›»è©±: %s\n", rform->phone);

    fclose(fp);

    add_post(BN_SECURITY, fpath, title);
    unlink(fpath);
  }
}

: admutil.c:scan_register_form()

    case 'y':

+     log_register(&rform, 1);
      /* æå‡æ¬Šé™ */

    ...
    ...

    case 'n':

+     log_register(&rform, 0);
      move(9, 0);

--
 [1;43mâ”Œ[44mâ”¼[m Or[1mig[30min[m: [44m Maple-itocË™å‹•åŠ›æ ¸å¿ƒ [31;47m processor.tfcis.org [m
 [1;41mâ””[42mâ”˜[m A[1mut[30mho[mr: [1;36mitoc [30må¾ [35mpc512-2.ee.nctu.edu.tw [30mç™¼è¡¨[m
