ä½œè€…: itoc (æ‹¯æ•‘ä¸€å€‹éˆé­‚) çœ‹æ¿: plan
æ¨™é¡Œ: [åŠŸèƒ½] ä½¿é¸å–®æœ€å¾Œä¸€è¡Œ feeter çš„æ™‚é–“ä¸€ç›´åœ¨è·‘
æ™‚é–“: Wed Jun 12 02:22:11 2002                          Updated: 2005/05/28

â€» å¼•è¿°ã€Štandrian.bbs@ntcb.twbbs.org.tw (å¹»åŸŸé­”åŸŽå¾Œç¥–)ã€‹ä¹‹éŠ˜è¨€ï¼š
> æˆ‘æƒ³è¦è®“å·¦ä¸‹è§’çš„æ™‚é–“ä¸€ç›´è·‘~~!!
> ä¸çŸ¥é“æˆ‘é€™é»žå­å¯è¡Œå—Ž?

: menu.c:status_foot()

  int ufo;
  time_t now;
+ struct tm *ptime;
+ struct timeval tv = {1, 0};

  ...
  ...

  if (now > uptime)     /* éŽäº†å­å¤œè¦æ›´æ–°ç”Ÿæ—¥æ——æ¨™ */
  {
-   struct tm *ptime;

  ...
  ...

- ufo = (now - (uptime - 86400)) / 60;  /* å€Ÿç”¨ ufo ä¾†åšæ™‚é–“(åˆ†) */

- sprintf(feeter, COLOR1 " %8.8s %02d:%02d " COLOR2
-   " äººæ•¸ %-4d æˆ‘æ˜¯ %-12s %s [å‘¼å«]%-9s  ",
-   fshm->today, ufo / 60, ufo % 60,
-   total_user, cuser.userid, coinmsg, flagmsg);
- outf(feeter);

+ while (1)
+ {
+   now++;
+   ptime = localtime(&now);
+
+   [1;44m// ç‰ˆé¢å¯è‡ªè¡Œèª¿æ•´ [m
+   sprintf(feeter, COLOR1 " %8.8s %02d:%02d:%02d " COLOR2
+     " äºº: %-4d æˆ‘æ˜¯ %-12s %s [å‘¼]%-9s  ",
+     fshm->today, ptime->tm_hour, ptime->tm_min, ptime->tm_sec,
+     total_user, cuser.userid, coinmsg, flagmsg);
+
+   outz(feeter);
+   refresh();
+
+   ufo = 1;
+   if (select(1, (fd_set *) &ufo, NULL, NULL, &tv) > 0)
+     return vkey();
+ }
}

: menu.c:movie() æœ€å¾Œä¸€è¡Œçš„ status_foot() æ‹¿æŽ‰

  if ((bbsmode <= M_XMENU) && (cuser.ufo & UFO_MOVIE))
    film_out(FILM_MOVIE, MENU_XNOTE);

- status_foot();

: menu.c:menu() æœ€å¾Œ cmd = vkey(); æ›æˆ cmd = status_foot();

#else
      move(MENU_XPOS + cc, MENU_YPOS + 1);
#endif
    }

menu_key:

-   cmd = vkey();
+   cmd = status_foot();
  }
}

--
  å…¶å¯¦æ™‚é–“éœæ…‹å¥½..å‹•æ…‹æ•¸ç§’å…¶å¯¦æ²’ä»€éº¼ç”¨
  ä½†æ˜¯è¦ä»˜å‡ºæ¯ç§’æ›´æ–°ä¸€æ¬¡ feeter çš„ä»£åƒ¹

--
[1;37mâ–¡ æœ¬æ–‡ç« ç”± [33mitoc[37m å¾ž [32mnctu5566.Dorm3.NCTU.edu.tw[37m ç™¼è¡¨[m
