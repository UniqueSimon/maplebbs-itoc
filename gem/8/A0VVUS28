ç™¼ä¿¡äºº: itoc.bbs@processor.tfcis.org (æ ¸å¿ƒå‹•åŠ›) çœ‹æ¿: plan
æ¨™  é¡Œ: Re: æ¿ä¸»æ”¹è®Šçœ‹æ¿åˆ†é¡
ç™¼ä¿¡ç«™: å‹•åŠ›æ ¸å¿ƒ (2004/01/10 Sat 10:26:12)                Updated: 2005/05/26

â€» å¼•è¿°ã€ŠTitan.bbs@KH.twbbs.org (é›æ’ç¾å°‘å¥³)ã€‹ä¹‹éŠ˜è¨€ï¼š
>         å¯ä»¥åšåˆ°è®“æ¿ä¸»è‡ªå·±æ”¹è®Šçœ‹æ¿åˆ†é¡å—ï¼Ÿ
>         å°±æ˜¯é¡ä¼¼"å€‹äºº"æ”¹æˆ"åœ˜é«”"é€™æ¨£...
>         åªæœ‰æ•˜è¿°è®Šè€Œå·²ï¼Œä¸éœ€è¦æ”¹è®Šä½ç½®
>         ç²¾è¯å€æœ‰æåˆ°å¯ä»¥æ”¹è®Šåˆ†é¡é¡è‰²ï¼Œä¸éå¥½åƒæ²’çœ‹åˆ°å¯ä»¥æ”¹åˆ†é¡

  åªæ”¹åˆ†é¡æ•˜è¿°ï¼Œä¸æ”¹ (A)nnounceâ†’Class è£¡é¢çš„ä½ç½®

: manage.c æ–°å¢é€™ä¸€æ®µæ–¼ post_manage() å‰é¢

/* ----------------------------------------------------- */
/* æ¿ä¸»åŠŸèƒ½ : ä¿®æ”¹åˆ†é¡                                   */
/* ----------------------------------------------------- */

static int
post_brdclass(xo)
  XO *xo;
{
  BRD *oldbrd, newbrd;

  oldbrd = bshm->bcache + currbno;
  memcpy(&newbrd, oldbrd, sizeof(BRD));

  if (vans("æ˜¯å¦ä¿®æ”¹çœ‹æ¿åˆ†é¡(Y/N)ï¼Ÿ[N] ") == 'y')
  {
    vget(b_lines, 0, "çœ‹æ¿åˆ†é¡ï¼š", newbrd.class, BCLEN + 1, GCARRY);

    if (memcmp(&newbrd, oldbrd, sizeof(BRD)) && vans(msg_sure_ny) == 'y')
    {
      memcpy(oldbrd, &newbrd, sizeof(BRD));
      rec_put(FN_BRD, &newbrd, sizeof(BRD), currbno, NULL);
    }
  }

  return XO_FOOT;
}

: manage.c:post_manage()

    "Manager å¢æ¸›å‰¯æ¿ä¸»",
+   "Class   æ”¹è®Šåˆ†é¡",

  ...

- char *menu = "â— æ¿ä¸»é¸å–® (B)ä¸»é¡Œ (W)é€²æ¿ (M)å‰¯æ¿"
+ char *menu = "â— æ¿ä¸»é¸å–® (B)ä¸»é¡Œ (W)é€²æ¿ (M)å‰¯æ¿ (C)åˆ†é¡"

  ...

  case 'm':
    return post_changeBM(xo);

+ case 'c':
+   return post_brdclass(xo);

--
 [1;43mâ•­[46mâ”¼[m Or[1mig[30min[m: [41m Maple-itocË™å‹•åŠ›æ ¸å¿ƒ [32;47m processor.tfcis.org [m
 [1;44mâ”¼[41mâ•¯[m A[1mut[30mho[mr: [1;33mitoc [30må¾ [35mitoc.Dorm11.NCTU.edu.tw [30mç™¼è¡¨[m
