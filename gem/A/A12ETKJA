ç™¼ä¿¡äºº: rainphiz.bbs@cpu.tfcis.org (ã€€) çœ‹æ¿: plan
æ¨™  é¡Œ: Re: å•ä¸€å€‹åŠŸèƒ½ ä¸€æ¬¡è¨­å®šå…¨ç«™çœ‹æ¿å·²è®€å–
ç™¼ä¿¡ç«™: å‹•åŠ›æ ¸å¿ƒ (2006/08/24 Thu 00:36:09)                Updated: 2006/08/25

â€» å¼•è¿°ã€Šguessi (æ²’)ã€‹ä¹‹éŠ˜è¨€ï¼š
>    [Z]å¯ä»¥è¨­å®šå…¨ç«™çœ‹æ¿è¨‚é–±/åè¨‚é–±
>    é‚£éº¼è®€å–/æœªè®€å–åˆè©²å¦‚ä½•æ“ä½œå‘¢?
>    å…ˆè©¦è‘—æŸ¥çœ‹ç¨‹å¼ç¢¼ç·¨ä¿® ä½†... erroré »é »
>    æƒ³è«‹æ•™å„ä½ é€™æ¨£çš„åŠŸèƒ½å¦‚ä½•æ’°å¯« è¬è¬ :)

   å°±æ˜¯ class_visit è·Ÿ class_unvisit æŠ„æŠ„æ”¹æ”¹ï¼Œ
   board.c æ‰¾å€‹åœ°æ–¹æ”¾é€²å»

: board.c:class_allvisit() æ”¾åœ¨ class_unvisit() å¾Œé¢

static int
class_allvisit(xo)
  XO *xo;
{
  BRD *brd;
  short *chp;
  int ans, pos, chn, max;

  ans = vans("è¨­å®šæ‰€æœ‰çœ‹æ¿ (V)å·²è®€ (U)æœªè®€ (Q)å–æ¶ˆï¼Ÿ [Q] ");
  if (ans != 'v' && ans != 'u')
    return XO_FOOT;

  max = xo->max;
  pos = 0;
  do
  {
    chp = (short *) xo->xyz + pos;
    chn = *chp;
    if (chn >= 0)
    {
      brd = bshm->bcache + chn;
      brh_get(brd->bstamp, chn);
      if (ans == 'v')
      {
        brh_visit(0);
#ifndef ENHANCED_VISIT
        time(&brd_visit[chn]);
#endif
      }
      else
      {
        brh_visit(1);
#ifndef ENHANCED_VISIT
        brd_visit[chn] = 0; /* itoc.010402: æœ€è¿‘ç€è¦½æ™‚é–“æ­¸é›¶ï¼Œä½¿çœ‹æ¿åˆ—è¡¨
                                            ä¸­é¡¯ç¤ºæœªè®€ */
#endif
      }
    }
  } while (++pos < max);

  return class_body(xo);
}

: board.c:class_cb[]

+  Ctrl('V'), class_allvisit,

--
  ä¸æ„§æ˜¯ amaki å¤§ï¼Œè¶…æš´åŠ›çš„ XD

--
[1;36m=[37m[[36mï¹[37m:[33m?[37mæ‘ƒ?[mâ—£?[1;33m?[37m:[36mï¹ [31mOrigin[37m ]|[[m  [0;31m?[1m?[1m?[0;31mO[0;31m?[1m?[1m?[0;31m?[1mcpu.tfcis.org  [37m]|[?[33mæŸèªª[m?[1;36mï¹[37m:][36m=[m
[1;36m=[0m[[1;36mï¹Š[37m:[33m?[30mæ‘ƒ?[mâ•±?[1;33m?[37m:[36mï¹Š [31mAuthor[m ]|[[1m218-175-148-79.dynamic.hin[m]|[?[1;33m?[30m?[37mæ’[30m?[36mï¹Š[37m:[m][1;36m=[m
