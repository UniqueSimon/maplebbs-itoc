ä½œè€…: itoc (æ ¸å¿ƒå‹•åŠ›) çœ‹æ¿: itoc
æ¨™é¡Œ: Re: åœ¨Solarisä¸‹çš„å•é¡Œ
æ™‚é–“: Wed Nov 19 15:32:17 2003

â€» å¼•è¿°ã€Šitoc (æ ¸å¿ƒå‹•åŠ›)ã€‹ä¹‹éŠ˜è¨€ï¼š
>   Solaris çš„ dso çš„éƒ½ make å¤±æ•—å•Š
>   é‚£ä¹¾è„†é€šé€šæŠ“å» maple è£¡é¢å¥½äº† :p

  ä¸€ã€æ”¹ src/maple/Makefile

    src/so/Makefile å¯«è‘—

SO =    admutil.so aloha.so bank.so chat.so help.so manage.so newbrd.so \
        song.so vote.so xyz.so \
        calendar.so classtable.so credit.so jcee.so todo.so

    é‚£éº¼å°±åœ¨ maple/Makefile åŠ ä¸Šå»å°æ‡‰çš„ *.c *.o

SRC =   acct.c bbsd.c bmw.c board.c cache.c edit.c favor.c \
        gem.c mail.c menu.c more.c pal.c post.c talk.c ulist.c \
        user.c visio.c window.c xover.c xpost.c [1;33m\[m
        [1;33m../so/admutil.c ../so/aloha.c ../so/bank.c ../so/chat.c \[m
        [1;33m../so/help.c ../so/innbbs.c ../so/manage.c ../so/newbrd.c \[m
        [1;33m../so/song.c ../so/vote.c ../so/xyz.c \[m
        [1;33m../so/calendar.c ../so/classtable.c ../so/credit.c \[m
        [1;33m../so/jcee.c ../so/todo.c[m

OBJ =   acct.o bbsd.o bmw.o board.o cache.o edit.o favor.o \
        gem.o mail.o menu.o more.o pal.o post.o talk.o ulist.o \
        user.o visio.o window.o xover.o xpost.o [1;33m\[m
        [1;33m../so/admutil.o ../so/aloha.o ../so/bank.o ../so/chat.o \[m
        [1;33m../so/help.o ../so/innbbs.o ../so/manage.o ../so/newbrd.o \[m
        [1;33m../so/song.o ../so/vote.o ../so/xyz.o \[m
        [1;33m../so/calendar.o ../so/classtable.o ../so/credit.o \[m
        [1;33m../so/jcee.o ../so/todo.o[m

    åŒç† src/game/Makeifle ä¹Ÿæ˜¯æ¯”ç…§è¾¦ç†
    åŒç† src/pip/Makeifle ä¹Ÿæ˜¯æ¯”ç…§è¾¦ç†


  äºŒã€æ”¹ src/Makefile

      æ‰€æœ‰çš„é€™ä¸‰è¡Œæ‹¿æ‰

        @cd so; make xxxx
        @cd game; make xxx
        @cd pip; make xxxx

      è®Šæˆ

#       @cd so; make xxxx
#       @cd game; make xxxx
#       @cd pip; make xxxx

      å…¶ä¸­ xxxx åŒ…æ‹¬
      sun linux solaris sol-x86 freebsd bsd åŠ install
      ä½†ä¸åŒ…æ‹¬ clean


  ä¸‰ã€æ”¹ menu.c

    menu.c ä¸­çš„æ‰€æœ‰ "bin/xxxx.so:yyyy" éƒ½æ”¹æˆ yyyy
    æ‹¿æ‰ "" åŠ bin/xxxx.so:ï¼Œä»¥åŠ - M_XXXX çš„ è²  æ‹¿æ‰ï¼Œä¾‹å¦‚


  "bin/admutil.so:a_search", PERM_ALLACCT, - M_SYSTEM,
  "Hunt       â—¤ æœå°‹å¼•æ“ â—¢",

    æ”¹æˆ

  a_search, PERM_ALLACCT, M_SYSTEM,
  "Hunt       â—¤ æœå°‹å¼•æ“ â—¢",


  å››ã€æ”¹ post.c:post_cb[]

    å°‡é€™å››è¡Œæ‹¿æ‰

  'B' | XO_DL, (void *) "bin/manage.so:post_manage",
  'R' | XO_DL, (void *) "bin/vote.so:vote_result",
  'V' | XO_DL, (void *) "bin/vote.so:XoVote",

#ifdef HAVE_TERMINATOR
  Ctrl('X') | XO_DL, (void *) "bin/manage.so:post_terminator",
#endif

    æ”¹æˆ

  'B', post_manage,
  'R', vote_result,
  'V', XoVote,

#ifdef HAVE_TERMINATOR
  Ctrl('X'), post_terminator,
#endif


  äº”ã€æ”¹æ‰€æœ‰ DL_get() åŠ DL_func çš„éƒ¨åˆ†

bbsd.c:    DL_func("bin/enews.so:main_enews");  /* ä¸Šç«™é–±è®€å¥‡æ‘©æ–°è */
talk.c: if (DL_func("bin/bwboard.so:vaBWboard", fd, 1) == -2)
talk.c:      if (DL_func("bin/bwboard.so:vaBWboard", fd, 0) == -2)
xover.c:  DL_func("bin/help.so:vaHelp", path);

    ä¾åºæ”¹æˆ

bbsd.c:    main_enews();  /* ä¸Šç«™é–±è®€å¥‡æ‘©æ–°è */
talk.c: if (vaBWboard(fd, 1) == -2)
talk.c:      if (vaBWboard(fd, 0) == -2)
xover.c:  vaHelp(path);


  å…­ã€æ”¹ src/maple/maple.p

    æŠŠæ‰€æœ‰æ–°å¢çš„å‡½å¼åŠ å…¥ maple.p

    ä»¥ä¸Šé¢è¬›åˆ°çš„ç‚ºä¾‹å­ï¼Œé‚£éº¼å°±æ˜¯åœ¨ maple.p ä¸­åŠ å…¥

int a_search();
int post_manage();
int vote_result();
int XoVote();
int post_terminator();
int main_enews();
int vaBWboard();
int vaHelp();
...
...
(æŠŠæ‰€æœ‰ so/*.c game/*.c åŠ å…¥çš„ non-static å‡½å¼éƒ½æ›ä¸Šå®£å‘Š)


---------------------------------------2005/12/09---------------------
int vaHelp();
int vaBWboard();
int post_manage();
int vote_result();
int XoVote();
int post_terminator();
int a_user();
int a_search();
int a_editbrd();
int a_xfile();
int a_resetsys();
int a_register();
int a_regmerge();
int a_restore();
int a_innbbs();
int m_bm();
int m_all();
int t_aloha();
int t_chat();
int XoSongLog();
int XoSongMain();
int XoSongSub();
int main_railway();
int main_liteon();
int guessNum();
int fightNum();
int main_km();
int main_recall();
int main_mine();
int main_fantan();
int main_dragon();
int main_nine();
int main_dice();
int main_gp();
int main_bj();
int main_chessmj();
int main_seven();
int main_race();
int main_bingo();
int main_marie();
int main_bar();
int main_pip();
int main_pushbox();
int main_tetris();
int main_gray();
int x_bank();
int b_invis();
int b_cloak();
int b_mbox();
int b_xempt();
int vote_all();
int x_tip();
int x_loveletter();
int x_password();
int main_classtable();
int main_credit();
int main_todo();
int main_calendar();
int XoNewBoard();
------------------------------------------------------------


--
 [1;43mâ”Œ[44mâ”¼[m Or[1mig[30min[m: [44m Maple-itocË™å‹•åŠ›æ ¸å¿ƒ [31;47m processor.tfcis.org [m
 [1;41mâ””[42mâ”˜[m A[1mut[30mho[mr: [1;36mitoc [30må¾ [35mpc512-2.ee.nctu.edu.tw [30mç™¼è¡¨[m
