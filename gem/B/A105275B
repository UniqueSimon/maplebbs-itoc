ä½œè€…: itoc (League) ç«™å…§: plan
æ¨™é¡Œ: [ä¿®æ­£] å›žæ°´çƒçš„ä½ç½®æ”¹å›žå€’æ•¸ç¬¬äºŒè¡Œ
æ™‚é–“: 2004/03/12 Fri 10:02:16                           Updated: 2004/03/12

â€» å¼•è¿°ã€Šjal.bbs@bbs3.au.edu.tw (ç«™ä¸Šçš„å·¥å‹å¼Ÿå¼Ÿ)ã€‹ä¹‹éŠ˜è¨€ï¼š
> å› ç‚ºç«™ä¸Šuserç¿’æ…£å›žè¨Šæ¯åœ¨ä¸‹æ–¹åˆ—ï¼Œæ‰€ä»¥æƒ³æ”¹å›žåˆ°ä¸‹é¢ï¼Œ

  æŠŠå›žæ°´çƒå¾ž (0, 0) æ”¹å›ž (b_lines - 1, 0)ï¼Œè¦æ”¹çš„éƒ¨åˆ†æœ‰
  1) vget(line, col, ...) ä¸­çš„ line
  2) ç”±æ–¼ save_foot() åªæœƒæœ‰äºŒè¡Œå—åˆ°è®Šå‹•ï¼Œæ‰€ä»¥ä¸éœ€ slp[3]ï¼Œåªéœ€ slp[2]

: bmw.c:bmw_edit()

  int recver;
- screenline slp[3];
+ screenline slp[2];
  char *userid, fpath[64];
  FILE *fp;

  ...
  ...

  for (;;)
  {
    int ch;
    BMW *benz;

-   ch = vget(0, 0, hint, bmw->msg, 62, GCARRY);
+   ch = vget(b_lines - 1, 0, hint, bmw->msg, 62, GCARRY);

: bmw.c:bmw_reply()

  int max, display, tmpmode;
  char buf[128];
  UTMP *up;
  BMW bmw;
- screenline slp[3];
+ screenline slp[2];
#ifdef BMW_DISPLAY
  screenline slt[t_lines];
#endif

: visio.c:save_foot()

void
save_foot(slp)
  screenline *slp;
{
  int i;
- int lines[3] = {0, b_lines - 1, b_lines};     /* å„²å­˜é€™ä¸‰è¡Œ */
+ int lines[2] = {b_lines - 1, b_lines};        /* å„²å­˜é€™äºŒè¡Œ */

- for (i = 0; i < 3; i++)
+ for (i = 0; i < 2; i++)
  {
    move(lines[i], 0);
    memcpy(slp + i, cur_slp, sizeof(screenline));
    slp[i].smod = 0;
    slp[i].emod = ANSILINELEN;/* Thor.990125:ä¸è«–æœ€å¾Œä¸€æ¬¡æ”¹åˆ°å“ª, å…¨éƒ¨è¦ç¹ªä¸Š */
    slp[i].oldlen = ANSILINELEN;
    slp[i].mode |= SL_MODIFIED;
  }
}

: visio.c:restore_foot()

void
restore_foot(slp)
  screenline *slp;
{
  int i;
- int lines[3] = {0, b_lines - 1, b_lines};     /* æ¢å¾©é€™ä¸‰è¡Œ */
+ int lines[2] = {b_lines - 1, b_lines};        /* æ¢å¾©é€™äºŒè¡Œ */

- for (i = 0; i < 3; i++)
+ for (i = 0; i < 2; i++)
  {
    move(lines[i], 0);
    memcpy(cur_slp, slp + i, sizeof(screenline));
  }

  refresh(); /* Thor.981222: ç‚ºé˜²æ•´screené‡ç¹ª, æŽ¡ç”¨ refresh */
}

--
[1;37mâ–¡ æœ¬æ–‡ç« ç”± [33mitoc[37m å¾ž [32mitoc.Dorm11.NCTU.edu.tw[37m ç™¼è¡¨[m
