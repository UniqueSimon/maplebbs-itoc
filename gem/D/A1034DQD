ä½œè€…: itoc (å¤ªé™½èŠ±å…’~) ç«™å…§: plan
æ¨™é¡Œ: [æ–‡ä»¶] showSTRUCT çš„æ–¹æ³•
æ™‚é–“: Sat Dec 21 02:14:54 2002                          Updated: 2006/03/15

  èª¿é–±ä½¿ç”¨è€…è¨»å†Šå–®

: src/util/Makefile

EXE =   ... [1;33mshowRFORM[m

: src/util/showRFORM.c æ–°å¢žæ­¤ç¨‹å¼

/*-------------------------------------------------------*/
/* util/showRFORM.c     ( NTHU CS MapleBBS Ver 3.10 )    */
/*-------------------------------------------------------*/
/* target : show register form                           */
/* create : 01/10/05                                     */
/* update :   /  /                                       */
/* author : itoc.bbs@bbs.tnfsh.tn.edu.tw                 */
/*-------------------------------------------------------*/
/* syntax : showRFORM [target_user]                      */
/*-------------------------------------------------------*/


#include "bbs.h"

static void
showRFORM(r)
  RFORM *r;
{
  printf("ç”¨æˆ¶ç·¨è™Ÿï¼š%d\n", r->userno);
  printf("å¡«è¡¨æ™‚é–“ï¼š%s\n", Btime(&r->rtime));
  printf("ç”³è«‹ä»£è™Ÿï¼š%s\n", r->userid);
  printf("æœå‹™å–®ä½ï¼š%s\n", r->career);
  printf("ç›®å‰ä½å€ï¼š%s\n", r->address);
  printf("é€£çµ¡é›»è©±ï¼š%s\n", r->phone);
  printf("å¯©æ ¸ç«™é•·ï¼š%s\n", r->agent);
  printf("é€€ä»¶ç†ç”±ï¼š%s\n", r->reply);
  printf(MSG_SEPERATOR "\n");
}


int
main(argc, argv)
  int argc;
  char *argv[];
{
  int show_allrform;
  RFORM rform;
  FILE *fp;

  if (argc < 2)
    show_allrform = 1;
  else
    show_allrform = 0;

  chdir(BBSHOME);

  if (!(fp = fopen(FN_RUN_RFORM_LOG, "r")))
    return -1;

  while (fread(&rform, sizeof(RFORM), 1, fp) == 1)
  {
    if (show_allrform || !str_cmp(rform.userid, argv[1]))
      showRFORM(&rform);
  }

  fclose(fp);

  return 0;
}


  é€™æž¶æ§‹å’Œ showBRD.c æ˜¯å®Œå…¨ä¸€æ¨£çš„
  æ‰€æœ‰çš„ record åŒ…æ‹¬ PAL/ALOHA/BRD/ACCT/VCH/MF/... éƒ½å¯ä»¥å¦‚æ³•æ³¡è£½å¯«ä¸€éš»ç¨‹å¼
  å°±åªè¦æ”¹ 1.è·¯å¾‘ 2.STRUCT 3.showSTRUCT()
  ä¸‰å€‹éƒ¨åˆ†å³å¯

--
[1;37mâ–¡ æœ¬æ–‡ç« ç”± [33mitoc[37m å¾ž [32mitoc.Dorm-GD2.NCTU.edu.tw[37m ç™¼è¡¨[m
