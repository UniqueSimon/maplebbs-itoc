ä½œè€…: itoc (æ‹¯æ•‘ä¸€å€‹éˆé­‚) çœ‹æ¿: plan
æ¨™é¡Œ: [ä¿®æ­£] talk.c èŠå¤©æ™‚é€£çºŒæŒ‰äºŒæ¬¡ Ctrl-C æ‰é›¢é–‹
æ™‚é–“: Sat Jul 20 01:10:36 2002                          Updated: 2002/10/17

â€» å¼•è¿°ã€Štbp.bbs@xeon.tfcis.org (tbp)ã€‹ä¹‹éŠ˜è¨€ï¼š
> å…©äººèŠå¤©æ™‚
> å¦‚ä½•ä¿®æ”¹æ‰èƒ½è®“ç¬¬ä¸€æ¬¡æŒ‰^Cç‚ºè­¦å‘Š
> å†æŒ‰ä¸€æ¬¡^Cæ‰é€€å‡ºå‘¢

: talk.c:talk_speak()

static void
talk_speak(fd)
  int fd;
{
  talk_win mywin, itswin;
  uschar data[80];
  char buf[80];
  int i, ch;
+ int ctrlc;

  ...
  ...

+ ctrlc = 0;        /* 1:ä¸Šä¸€éµæ˜¯ Ctrl-C æˆ– Ctrl-D */

  for (;;)
  {
    ch = vkey();

+   if (ch == Ctrl('D') || ch == Ctrl('C'))
+   {
+     if (ctrlc)    /* é€£çºŒæŒ‰äºŒæ¬¡ Ctrl-C æˆ– Ctrl-D é›¢é–‹ */
+     {
+       break;
+     }
+     else          /* ç¬¬ä¸€æ¬¡æŒ‰ Ctrl-C æˆ– Ctrl-D */
+     {
+       ctrlc = 1;
+       continue;
+     }
+   }
+   else
+   {
+     ctrlc = 0;
+   }

    ...
    ...

-   if (ch == Ctrl('D') || ch == Ctrl('C'))
-     break;

  ...
  ...

: theme.h

#ifdef HAVE_GAME
#define FOOTER_TALK     \
COLOR1 " äº¤è«‡æ¨¡å¼ " COLOR2 " (^O)å°å¥• (é€£çºŒäºŒæ¬¡^C,^D)çµæŸäº¤è«‡ (^T)å‘¼å«å™¨ (^Z)å¿«æ·åˆ—è¡¨ (^G)å—¶å—¶  \033[m"
#else
#define FOOTER_TALK     \
COLOR1 " äº¤è«‡æ¨¡å¼ " COLOR2 " (é€£çºŒäºŒæ¬¡^C,^D)çµæŸäº¤è«‡ (^T)å‘¼å«å™¨ (^Z)å¿«æ·åˆ—è¡¨ (^G)å—¶å—¶ (^Y)æ¸…é™¤  \033[m"
#endif

--
  æ‡‰è©²æ˜¯é€™æ¨£ï¼Œæ²’è©¦é

--
[1;37mâ–¡ æœ¬æ–‡ç« ç”± [33mitoc[37m å¾ [32mitoc.Dorm-GD2.NCTU.edu.tw[37m ç™¼è¡¨[m
