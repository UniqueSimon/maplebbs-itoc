ç™¼ä¿¡äºº: itoc.bbs@cpu.tfcis.org (æ ¸å¿ƒå‹•åŠ›) çœ‹æ¿: plan
æ¨™  é¡Œ: Re: [å•é¡Œ] è®“æ¿ä¸»èƒ½çœ‹åˆ°æ›åœ¨ç‰ˆä¸Šçš„äºº
ç™¼ä¿¡ç«™: å‹•åŠ›æ ¸å¿ƒ (2005/10/24 Mon 14:09:31)              Updated: 2005/10/26

â€» å¼•è¿°ã€Štalon.bbs@bbs.wretch.cc (é»ƒæ˜å†ç¾çµ‚è¦é»‘å¤œ)ã€‹ä¹‹éŠ˜è¨€ï¼š
> å¾ä½¿ç”¨é€™åå–®è£¡é¢çœ‹åˆ°çš„æ¿ä¼´
> åªæœ‰æ­£åœ¨é–±è®€æ‰çœ‹çš„åˆ°
> èƒ½ä¸èƒ½è®“æ¿ä¸»å¯ä»¥çœ‹åˆ°å°±ç®—é€€å‡ºçœ‹æ¿äº†
> ä½†é‚„æ˜¯æ›åœ¨ä¸Šé¢çš„äºº

  æ¿ä¸»éš¨æ™‚éƒ½å¯å¾—çŸ¥åœ¨çœ‹è©²æ¿çš„ä½¿ç”¨è€…
  æ­£åœ¨çœ‹ç›¸åŒçœ‹æ¿çš„ä½¿ç”¨è€…å¯å¾—çŸ¥åœ¨çœ‹è©²æ¿çš„ä½¿ç”¨è€…

: talk.c:bmode()

- /* itoc.020602: ç«™é•·å¾—çŸ¥ä½¿ç”¨è€…åœ¨çœ‹å“ªå€‹æ¿ */
- if (mode == M_READA && HAS_PERM(PERM_SYSOP))
+ if (mode == M_READA)
+ {
+   extern BCACHE *bshm;
+   int bno;
+   char *blist;
+
+   bno = brd_bno(up->reading);
+   if (bno >= 0)
+   {
+     blist = (bshm->bcache + bno)->BM;
+     if (HAS_PERM(PERM_ALLBOARD) ||
+       (HAS_PERM(PERM_BM) && blist[0] > ' ' && is_bm(blist, cuser.userid)) ||
+       (!strcmp(currboard, up->reading)))
      {
        sprintf(modestr, "é–±\:%s", up->reading);
        return modestr;
      }
+   }
+ }

--
[1;36m=[37m[[36mï¹[37m:[33m?[37mæ‘ƒ?[mâ—£?[1;33m?[37m:[36mï¹ [31mOrigin[37m ]|[[m  [0;31m?[1m?[1m?[0;31mO[0;31m?[1m?[1m?[0;31m?[1mcpu.tfcis.org  [37m]|[?[33mæŸèªª[m?[1;36mï¹[37m:][36m=[m
[1;36m=[0m[[1;36mï¹Š[37m:[33m?[30mæ‘ƒ?[mâ•±?[1;33m?[37m:[36mï¹Š [31mAuthor[m ]|[[1m itoc.dorm11.nctu.edu.tw  [m]|[?[1;33m?[30m?[37mæ’[30m?[36mï¹Š[37m:[m][1;36m=[m
