ä½œè€…: itoc (ç¶ å·¨äººå¥½å®¢ï¼Ÿ) çœ‹æ¿: itoc
æ¨™é¡Œ: Re: [åŠŸèƒ½] æ¿ä¸»è‡ªå®šçœ‹æ¿ ä¸ä½¿ç”¨æ³¨éŸ³æ–‡/ä¸èƒ½æ¨æ–‡
æ™‚é–“: Sun Jul 27 20:50:43 2003                          Updated: 2004/03/03

â€» å¼•è¿°ã€ŠBioStar.bbs@micro.bio.ncue.edu.tw (æ¾æ¹–å°é›²é›€)ã€‹ä¹‹éŠ˜è¨€ï¼š
> å‰›æ‰æƒ³åˆ°...  å¯ä¸å¯ä»¥é€£è¼¸å…¥æ¨™é¡Œæ™‚éƒ½ç¦æ­¢æ³¨éŸ³æ–‡å•Šï¼Ÿ
> æ¨™é¡Œéƒ¨åˆ†ä¹Ÿä¸èƒ½ç”¨æ³¨éŸ³æ–‡......

: edit.c:is_phonetic() åŠ åœ¨ ve_filler() å‰é¢

static int
is_phonetic(title)
  char *title;
{
  uschar *str, *pend;

  str = title;
  pend = title + strlen(title);

  while (str < pend)
  {
    if (str[0] >= 0x81 && str[0] < 0xFE && str[1] >= 0x40
      && str[1] <= 0xFE && str[1] != 0x7F)      /* ä¸­æ–‡å­— BIG5+ */
    {
      if (str[0] == 0xA3 && str[1] >= 0x74 && str[1] <= 0xBA)  /* æ³¨éŸ³æ–‡ */
        return 1;
      str++;        /* ä¸­æ–‡å­—é›™ä½å…ƒï¼Œè¦å¤šåŠ ä¸€æ¬¡ */
    }
    str++;
  }

  return 0;
}

: edit.c:ve_subject()

- return vget(row, 0, "æ¨™é¡Œï¼š", title, TTLEN + 1, GCARRY);
+ vget(row, 0, "æ¨™é¡Œï¼š", title, TTLEN + 1, GCARRY);
+ if (is_phonetic(title))
+   return 0;
+ return title[0];
}

: edit.c:ve_filer()

  case 't':
    if (ve_op > 0)              /* itoc.010301: ä¸èƒ½å„²å­˜ */
    {
      strcpy(buf, ve_title);
-     if (!vget(b_lines, 0, "æ¨™é¡Œï¼š", ve_title, TTLEN + 1, GCARRY))
+     if (!vget(b_lines, 0, "æ¨™é¡Œï¼š", ve_title, TTLEN + 1, GCARRY) ||
+       is_phonetic(ve_title))
        strcpy(ve_title, buf);
    }
    return VE_FOOTER;

--
  å¥½å‡¶å–” :p

--
[1;36m=[37m[[36mï¹[37m:[33m?[37mæ‘ƒ?[mâ—£?[1;33m?[37m:[36mï¹ [31mOrigin[37m ]|[[m     [31m?[1må¨[0;31mO?[1mç—[0;31m?[1mprocessor.tfcis.org    [37m]|[?[33mæŸèªª[m?[1;36mï¹[37m:][36m=[m
[1;36m=[m[[1;36mï¹Š[37m:[33m?[30mæ‘ƒ?[mâ•±?[1;33m?[37m:[36mï¹Š [31mAuthor[m ]|[ [1m    itoc.dorm11.nctu.edu.tw         [m]|[?[1;33m?[30m?[37mæ’[30m?[36mï¹Š[37m:[m][1;36m=[m
