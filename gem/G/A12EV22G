ç™¼ä¿¡äºº: qazq.bbs@bbs.cs.nchu.edu.tw (ï¼Šæˆ‘è¦ç´…é€è‡ªå·±æˆ¿é–“ï¼Š) çœ‹æ¿: plan
æ¨™  é¡Œ: Re: è«‹å•ä¸€ä¸‹
ç™¼ä¿¡ç«™: ä¸­èˆˆè³‡ç§‘ ï½…è³‡ç¨ç§€ (2006/08/26 Sat 01:14:16)       Updated: 2007/04/29

â€» å¼•è¿°ã€Šyhl.bbs@cpu.tfcis.org (yhl)ã€‹ä¹‹éŠ˜è¨€ï¼š
> å¦‚æœèªªè¦åšåˆ°ä¸€å€‹useråªèƒ½æ“”ä»»å¹¾å€‹ç‰ˆç‰ˆä¸»
> è©²å¦‚ä½•ä¿®æ”¹å‘¢
> ç¾éšæ®µç‰ˆæœ¬æ‡‰è©²æ˜¯æ²’æœ‰é‡å°userä½œé™åˆ¶å§ï¼Ÿ

    æ‰¾å€‹åˆé©çš„åœ°æ–¹åŠ å…¥ä¸‹é¢çš„ functionï¼Œå¯ä»¥åŠ åœ¨ acct.c

: maple/acct.c:bm_number()  å…¶å¯¦å°±æ˜¯æ”¹å¯« bm_list()  :P:P:P

int
bm_number(userid)           /* å›å‚³ userid æ“”ä»»äº†å¹¾å€‹æ¿ä¸» */
  char *userid;
{
  int len, num;
  BRD *bhdr, *tail;
  extern BCACHE *bshm;

  bhdr = bshm->bcache;
  tail = bhdr + bshm->number;

  len = strlen(userid);
  num = 0;

  do
  {
    list = bhead->BM;
    if (str_has(list, userid, len))
      num++;
  } while (++bhead < btail);

  return num;
}



    ç„¶å¾Œåœ¨ä½ æƒ³è¦ç”¨åˆ°çš„æ™‚å€™å‘¼å«å®ƒã€‚

: acct.c:brd_set()
: manage.c:post_changeBM()

    else if (acct_load(&acct, userid) >= 0 && !is_bm(buf, userid))
    {
+     if (bm_number(userid) >= 3)
+     {
+       if (vans("æ­¤äººå·²æ“”ä»»ä¸‰æ¿ä»¥ä¸Šçš„æ¿ä¸»ï¼Œ"
+         "é‚„è®“æ­¤äººæ“”ä»»æ¿ä¸»å—(Y/N)ï¼Ÿ[N] ") != 'y')
+         continue;
+     }

--
[;32mâ•”â•®[46m      [34mâ–…â–‡â–†â–‡â–ˆâ–†â–…â–‡â–…â–„â–‡â–†â–…â–†â–„[1;33m â—‹[37m ? . [;46mã€‚ [1;37mÎ¿ [;34;46mË™ ï¹’[37mï¼Î¿[1;33;40;m . [;33mË™[1mï¹’  [37mâ—‹[36mÎ²[m
[32mâ•°â•â•­â•—[30;44mâ–Š[37m  å¤©ç©ºä¹‹åŸ (qazq.twbbs.org) [34;40mâ–Š[33mÎ¿ [36mã€‚  [1;30mÎ¾æœŸå¾…[måœ¨ç©ºä¸­[1mèˆ‡ä½ ç›¸æœƒ [33mã€‚   [36mÎ´[0;37mâ–¼[m
[32m    â•šâ•¯ [30;44mâ–„â–ƒâ–„â–…[37mâ–„â–‚â–…â–†â–„â–‚â–†â–„â–‚â–…â–†[;31;47m    218-163-147-83.dynamic.hinet.net[m [1;35mã€[m
