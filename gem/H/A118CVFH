ç™¼ä¿¡äºº: rainphiz.bbs@cpu.tfcis.org (ã€€) çœ‹æ¿: plan
æ¨™  é¡Œ: Re: å¦‚ä½•å¢žåŠ å¿«é€Ÿé›¢ç«™ç†±éµ
ç™¼ä¿¡ç«™: å‹•åŠ›æ ¸å¿ƒ (2005/05/15 Sun 05:11:41)                Updated: 2005/06/23

â€» å¼•è¿°ã€ŠSmaller.bbs@kfking.com (è–è³¢ä¹‹å¿ƒå‡¡äººä¹‹é«”)ã€‹ä¹‹éŠ˜è¨€ï¼š
> åƒæ˜¯WDç³»çµ±çš„ctrl+q
> å¯ä»¥å¿«é€Ÿé›¢ç«™
> æ„Ÿæ©

: maple.p

/* xover.c */
+ int quick_exit(void);

: xover.c:quick_exit()      åœ¨ every_Z() å‰é¢æ–°å¢žæ­¤å‡½ç¤º

int
quick_exit()
{
  outz("ç¢ºå®šè¦é›¢ç«™(Y/N)ï¼Ÿ[N] ");
  if (vkey() == 'y')
  {
    vmsg("è¬è¬å…‰è‡¨, è¨˜å¾—å¸¸ä¾†å–”ï¼");
    u_exit("EXIT ");
    exit(0);
  }

  return XO_FOOT;
}

: menu.c:menu()       é¸å–®æŒ‰ ^Q å¿«é€Ÿé›¢ç«™

    case Ctrl('U'):
      every_U(0);
      goto every_key;
+   case Ctrl('Q'):
+     quick_exit();
+     goto every_key;

: xover.c:xover()     ä»‹é¢æŒ‰ ^Q å¿«é€Ÿé›¢ç«™ï¼Œåªæœ‰æ²’è¢«æŒ‡å®šç‚º Query æ™‚æ‰æœ‰ç”¨

    else if (cmd == Ctrl('U'))
    {
      cmd = every_U(zone);
    }
+   else if ((cmd == Ctrl('Q')) &&
+     (zone != XZ_BMW) && (zone != XZ_GEM) && (zone != XZ_MBOX) &&
+     (zone != XZ_PAL) && (zone != XZ_ULIST) &&
+     (zone != XZ_POST) && (zone != XZ_XPOST) &&
+     (zone != XZ_VOTE))
+   {
+     cmd = quick_exit();
+   }

> -------------------------------------------------------------------------- <

  è®“ ^Z å¢žåŠ å€‹é›¢ç«™é¸é …

: xover.c

#ifdef MY_FAVORITE
- #define MSG_ZONE_SWITCH "å¿«é€Ÿåˆ‡æ›ï¼š... (U)ä½¿ç”¨è€… (W)æ°´çƒï¼š"
+ #define MSG_ZONE_SWITCH "å¿«é€Ÿåˆ‡æ›ï¼š... (U)ä½¿ç”¨è€… (W)æ°´çƒ (Q)é›¢ç«™ï¼š"
#else
- #define MSG_ZONE_SWITCH "å¿«é€Ÿåˆ‡æ›ï¼š... (U)ä½¿ç”¨è€… (W)æ°´çƒï¼š"
+ #define MSG_ZONE_SWITCH "å¿«é€Ÿåˆ‡æ›ï¼š... (U)ä½¿ç”¨è€… (W)æ°´çƒ (Q)é›¢ç«™ï¼š"
#endif

: xover.c:every_Z()

  case 'w':
    if (HAS_PERM(PERM_BASIC))
      cmd = XZ_BMW;
    break;
+  case 'q':
+    cmd = quick_exit();
+    break;

--
  æˆ‘å€’æ˜¯è¦ºå¾—é€™åŠŸèƒ½è®“ client ä¾†å¯¦ç¾å³å¯
  ä¾‹å¦‚ PCMan çš„ Alt+W æˆ–æ˜¯ KKman çš„ Ctrl+Del

--
 [1;43mâ—¤[46mâ—¥[m Or[1mig[30min[m: [41m Maple-itocË™å‹•åŠ›æ ¸å¿ƒ [36;47m cpu.tfcis.org [m
 [1;44mâ—£[41mâ—¢[m A[1mut[30mho[mr: [1;33mrainphiz [30må¾ž [31madsl-220-229-60-4.NH.sparqnet.net [30mç™¼è¡¨[m
