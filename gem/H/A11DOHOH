ç™¼ä¿¡äºº: qazq.bbs@bbs.cs.nchu.edu.tw (ï¼Šæˆ‘è¦ç´…é€è‡ªå·±æˆ¿é–“ï¼Š) çœ‹æ¿: plan
æ¨™  é¡Œ: [åŠŸèƒ½] äº‚æ•¸ç”¢ç”Ÿæ•¸å­—ï¼Œä»¥ ASCII åœ–å½¢é¡¯ç¤ºã€‚
ç™¼ä¿¡ç«™: ä¸­èˆˆè³‡ç§‘ ï½…è³‡ç¨ç§€ (2005/07/19 Tue 11:18:40)       Updated: 2005/09/15

â€» å¼•è¿°ã€ŠJayWilliam.bbs.NOSPAM@bbs.shu.edu.tw.SHU (#æ­¡è¿å…‰è‡¨ç¿ è°·é¢¨æƒ…#)ã€‹ä¹‹éŠ˜è¨€
> ç«™ä¸Šç–‘ä¼¼æœ‰å»£å‘Šå•†ä½¿ç”¨è‡ªå‹•ç¨‹å¼é€£çºŒè¨»å†Šï¼Œ
> æƒ³è«‹å•æœ‰æ²’æœ‰è¾¦æ³•åœ¨è¨»å†Šæ™‚åšä¸€é»æ›´å‹•ï¼Œ
> è¨»å†Šå‰å…ˆè¦æ±‚è¼¸å…¥éš¨æ©Ÿç”¢ç”Ÿçš„å››ä½æ•¸ï¼Œ
> å¦‚æœè¼¸å…¥æ­£ç¢ºæ‰èƒ½é€²ä¸‹ä¸€æ­¥å¡«è³‡æ–™ï¼Ÿ

: src/maple/bbsd.c:ascii_rand_num()  å¢åŠ ä¸‹é¢æ•´å€‹å‡½å¼æ–¼ acct_apply() å‰é¢

/* qazq.050719: äº‚æ•¸ç”¢ç”Ÿ ascii æ•¸å­—åœ–å½¢        */
/* å‚³å…¥å€¼:                                     */
/*   x: åœ–å½¢è¦é–‹å§‹é¡¯ç¤ºçš„ x åº§æ¨™                */
/*   y: åœ–å½¢è¦é–‹å§‹é¡¯ç¤ºçš„ y åº§æ¨™                */
/*   max_bit: è¦äº‚æ•¸ç”¢ç”Ÿçš„æœ€å¤§ä½æ•¸             */
/*     (å‚³å…¥ 4 çš„è©±å°±æ˜¯ç”¢ç”Ÿ 0 ~ 9999)          */
/*   pattern: åœ–å½¢è¦ç”¨ä»€éº¼æ¨£çš„å­—å…ƒé¡¯ç¤º         */
/*     (å‚³å…¥ -1 ç‚ºäº‚æ•¸é¡¯ç¤º, å‚³ '#' å°±æ˜¯ç”¨å®ƒ    */
/* å›å‚³å€¼:                                     */
/*   äº‚æ•¸ç”¢ç”Ÿçš„æ•´æ•¸                            */
/*                                             */
/* æ³¨æ„äº‹é …:                                   */
/*   1. æœ€å¤§ä½ä¸è¦è¶…é 5ï¼Œå› ç‚ºäº‚æ•¸æœ€å¤§åˆ° 32767 */
/*      è¦æ“´å……çš„å¯ä»¥è‡ªå·±ä¿®æ”¹ç¨‹å¼ã€‚             */
/*   2. æ¯ä¸€å€‹ ascii æ•¸å­—éœ€è¦ 5 * 5 çš„ç©ºé–“     */
/*   3. æ¯å€‹ ascii æ•¸å­—ä¸­é–“æœƒç©ºç™½ä¸€è¡Œ          */

static int
ascii_rand_num(x, y, max_bit, pattern)
  int x;
  int y;
  int max_bit;
  char pattern;
{
  static char numList[10][5][5] =
  {
    {
      1,1,1,1,1,
      1,0,0,0,1,
      1,0,0,0,1,
      1,0,0,0,1,
      1,1,1,1,1
    },
    {
      0,0,0,1,0,
      0,0,0,1,0,
      0,0,0,1,0,
      0,0,0,1,0,
      0,0,0,1,0
    },
    {
      1,1,1,1,1,
      0,0,0,0,1,
      1,1,1,1,1,
      1,0,0,0,0,
      1,1,1,1,1
    },
    {
      1,1,1,1,1,
      0,0,0,0,1,
      1,1,1,1,1,
      0,0,0,0,1,
      1,1,1,1,1
    },
    {
      1,0,0,0,1,
      1,0,0,0,1,
      1,1,1,1,1,
      0,0,0,0,1,
      0,0,0,0,1
    },
    {
      1,1,1,1,1,
      1,0,0,0,0,
      1,1,1,1,1,
      0,0,0,0,1,
      1,1,1,1,1
    },
    {
      1,0,0,0,0,
      1,0,0,0,0,
      1,1,1,1,1,
      1,0,0,0,1,
      1,1,1,1,1
    },
    {
      1,1,1,1,1,
      0,0,0,0,1,
      0,0,0,0,1,
      0,0,0,0,1,
      0,0,0,0,1
    },
    {
      1,1,1,1,1,
      1,0,0,0,1,
      1,1,1,1,1,
      1,0,0,0,1,
      1,1,1,1,1
    },
    {
      1,1,1,1,1,
      1,0,0,0,1,
      1,1,1,1,1,
      0,0,0,0,1,
      0,0,0,0,1
    }
  };
  /* äº‚æ•¸ pattern ç”¨ */
  char pattern_list[5] = {'#','@','$','&','%'};
  int i, j, k;
  int rnd_num, numIndex;
  char buf[32];

  /* qazq: Linux ä¸‹é¢æ²’æœ‰ pow() åªå¥½è‡ªå·±å¯«ä¸€å€‹....^^a */
  //rnd = rand() % (int)(pow(10, max_bit));
  for (rnd_num = i = 1; i <= max_bit; i++)
    rnd_num *= 10;
  rnd_num = rand() % rnd_num;
  sprintf(buf, "%0*d", max_bit, rnd_num);

  for (i = 0; i <= 4; i++)  /* é«˜åº¦ 5ï¼Œä¸€æ¬¡é¡¯ç¤ºä¸€åˆ— */
  {
    move(x + i, y);
    for (j = 0; j <= max_bit - 1; j++) /* æœ‰ max_bit å€‹æ•¸å­—è¦é¡¯ç¤º */
    {
      numIndex = buf[j] - '0';
      for (k = 0; k <= 4; k++)  /* æ¯å€‹æ•¸å­—å¯¬åº¦ 5ï¼Œä¸€æ¬¡é¡¯ç¤ºä¸€å€‹å­—å…ƒ */
      {
        prints("%c", numList[numIndex][i][k] == 1 ?
          (pattern == -1 ? pattern_list[rand()%5] : pattern) : ' ');
      }

      outs(" ");  /* æ¯å€‹ ascii æ•¸å­—é–“æ ¼ä¸€å€‹ç©ºç™½ */
    }
  }

  return rnd_num;
}

: src/maple/bbsd.c:acct_apply()

  film_out(FILM_APPLY, 0);

+ vmsg(NULL);
+ try = ascii_rand_num(0, 0, 4, -1);
  [1;44m// move(11, 0) é–‹å§‹é¡¯ç¤ºå››ä½æ•¸å­—çš„ ASCII åœ–å½¢ï¼Œåœ–å½¢çš„å­—å…ƒç”¨äº‚æ•¸ç”¢ç”Ÿã€‚[m

+ vget(17, 0, "è«‹è¼¸å…¥ä¸Šæ–¹æ‰€é¡¯ç¤ºçš„å››ä½æ•¸å­—", buf, 5, DOECHO);
+ if (atoi(buf) != try)
+   login_abort("\nå†è¦‹ ...");

: src/maple/bbsd.c:tn_login()

  sprintf(buf, "%s ip:%08x (%d)", fromhost, tn_addr, currpid);

+ srand(ap_start * tn_addr * currpid);

  multi = login_user(buf);

  ...
  ...

- srand(ap_start * cuser.userno * currpid);
}

==============================================================================

    è²¼ä¸€äº›çµæœ...

          @     &&%$@ %   & $@#%#
          #     @     #   @     $
          #%$#$ &#%@$ &@&## @%%##
ã€€        %   %     @     @     #
          &@$## @&%&&     @ &&&%&


          ##### ##### ##### ##### #####
          #   #     # #   #     # #
          #   # ##### ##### ##### #####
          #   # #         #     #     #
          ##### #####     # ##### #####


          QQQQQ QQQQQ QQQQQ
              Q     Q Q   Q
              Q QQQQQ QQQQQ
              Q     Q     Q
              Q QQQQQ     Q


    å¤§æ¦‚å°±æ˜¯é€™æ¨£ï¼^^

    ç¨‹å¼æœ‰å¯«ä¸å¥½çš„åœ°æ–¹ï¼Œå¸Œæœ›å¤§å®¶å¯ä»¥å¹«å¿™ä¿®æ­£ï¼^^


[m--
[32mâ•”â•®[46m      [34mâ–…â–‡â–†â–‡â–ˆâ–†â–…â–‡â–…â–„â–‡â–†â–…â–†â–„[1;33m â—‹[37m ? . [;46mã€‚ [1;37mÎ¿ [;34;46mË™ ï¹’[37mï¼Î¿[1;33;40;m . [;33mË™[1mï¹’  [37mâ—‹[36mÎ²[m
[32mâ•°â•â•­â•—[30;44mâ–Š[37m  å¤©ç©ºä¹‹åŸ (qazq.twbbs.org) [34;40mâ–Š[33mÎ¿ [36mã€‚  [1;30mÎ¾æœŸå¾…[måœ¨ç©ºä¸­[1mèˆ‡ä½ ç›¸æœƒ [33mã€‚   [36mÎ´[0;37mâ–¼[m
[32m    â•šâ•¯ [30;44mâ–„â–ƒâ–„â–…[37mâ–„â–‚â–…â–†â–„â–‚â–†â–„â–‚â–…â–†[;31;47m    218-163-163-60.dynamic.hinet.net[m [1;35mã€[m
