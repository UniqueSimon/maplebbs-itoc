ç™¼ä¿¡äºº: itoc.bbs@processor.tfcis.org (æ ¸å¿ƒå‹•åŠ›) çœ‹æ¿: plan
æ¨™  é¡Œ: Re: äº‚æ•¸é¡¯ç¤ºç«™ä¸Šä½¿ç”¨è€…
ç™¼ä¿¡ç«™: å‹•åŠ›æ ¸å¿ƒ (2004/02/17 Tue 01:11:08)                Updated: 2004/02/17

â€» å¼•è¿°ã€ŠJianmin.bbs@whshs.cs.nccu.edu.tw (Jianmin)ã€‹ä¹‹éŠ˜è¨€ï¼š
> å¦‚æžœèªªè¦ç”¨äº‚æ•¸å–å‡ºç«™ä¸Š(è¨»å†Š)ä½¿ç”¨è€…é¡¯ç¤º

: acct.c:random_choose_userid() æ–°å¢žæ­¤å‡½å¼

static ACCT *
random_choose_userid()
{
  int num;
  char userid[IDLEN + 1];
  SCHEMA schema;
  static ACCT acct;

  num = rec_num(FN_SCHEMA, sizeof(SCHEMA));

  while (1)
  {
    rec_get(FN_SCHEMA, &schema, sizeof(SCHEMA), rand() % num);
    str_ncpy(userid, schema.userid, IDLEN + 1); /* schema.userid ä¸åŒ…æ‹¬ '\0' */

    if (acct_load(&acct, userid) >= 0)
      return &acct;
  }
}

> â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ <

  ACCT *acct;

  acct = random_choose_userid();

  // ç‰ˆé¢è‡ªå®š
  prints("%s ä¸Šç«™ %d æ¬¡", acct->userid, acct->numlogins);

--
 [1;43mâ•­[46mâ”¼[m Or[1mig[30min[m: [41m Maple-itocË™å‹•åŠ›æ ¸å¿ƒ [32;47m processor.tfcis.org [m
 [1;44mâ”¼[41mâ•¯[m A[1mut[30mho[mr: [1;33mitoc [30må¾ž [35mitoc.Dorm11.NCTU.edu.tw [30mç™¼è¡¨[m
