ç™¼ä¿¡äºº: itoc.bbs@processor.tfcis.org (æ ¸å¿ƒå‹•åŠ›) çœ‹æ¿: plan
æ¨™  é¡Œ: [åŠŸèƒ½] åœ¨ BBS ç«™ä¸Šä¿®æ”¹æ‰€æœ‰æª”æ¡ˆ
ç™¼ä¿¡ç«™: å‹•åŠ›æ ¸å¿ƒ (2004/10/14 Thu 19:41:31)                Updated: 2004/10/14

â€» å¼•è¿°ã€Šrainphiz (ã€€)ã€‹ä¹‹éŠ˜è¨€ï¼š
>     å°±æ˜¯åœ¨ç²¾è¯å€å…§é–‹ä¸€å€‹éš±è—ç›®éŒ„ï¼Œ
>     æ“æœ‰ç«™é•·æ¬Šé™çš„å¯ä»¥è§€çœ‹èˆ‡ä¿®æ”¹ï¼Œä¸ç”¨å†ä¸Šå·¥ä½œç«™åŽ»
>     æœ‰é»žé¡žä¼¼WDåŠ linkåˆ° bbs ç›®éŒ„ä¸‹ä»»ä¸€æª”æ¡ˆçš„æ–¹å¼~

  ç²¾è¯å€ ^P æ–°å¢ž (D)è³‡æ–™

  æ¨™é¡Œï¼šsrc/maple/bbsd.c
  æª”åï¼šnotepad

  åœ¨è©²è³‡æ–™ä¸ŠæŒ‰ K å³å¯ç·¨è¼¯ ~/src/maple/bbsd.c

: gem.c:gem_cb[]

+ 'K', gem_notepad,
  'h', gem_help

: gem.c:gem_notepad() åŠ åœ¨ gem_help() å‰é¢

static int
gem_notepad(xo)
  XO *xo;
{
  HDR *hdr;
  char *fname;

  if (HAS_PERM(PERM_SYSOP))
  {
    hdr = (HDR *) xo_pool + (xo->pos - xo->top);
    if (!strcmp(hdr->xname, "@notepad"))
    {
      fname = hdr->title;
      if (dashf(fname))
        vedit(fname, 0);
      return gem_head(xo);
    }
  }
  return XO_NONE;
}

: gem.c:gem_browse()

    /* browse article */
+   if (!strcmp(hdr->xname, "@notepad"))
+       strcpy(fpath, hdr->title);

    /* Thor.990204: ç‚ºè€ƒæ…®more å‚³å›žå€¼ */
    if ((xmode = more(fpath, FOOTER_GEM)) < 0)
      break;

--
 [1;41mâ•­[44mâ”¼[m Or[1mig[30min[m: [43m Maple-itocË™å‹•åŠ›æ ¸å¿ƒ [35;47m processor.tfcis.org [m
 [1;42mâ”¼[45mâ”˜[m A[1mut[30mho[mr: [1;31mitoc [30må¾ž [36mitoc.Dorm11.NCTU.edu.tw [30mç™¼è¡¨[m
