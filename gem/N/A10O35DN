ç™¼ä¿¡äºº: itoc.bbs@processor.tfcis.org (æ ¸å¿ƒå‹•åŠ›) çœ‹æ¿: plan
æ¨™  é¡Œ: Re: [å•é¡Œ] è«‹å•"åœ¨ä½¿ç”¨è€…åˆ—è¡¨æŒ‰->éµæœ‰é¸å–®"
ç™¼ä¿¡ç«™: å‹•åŠ›æ ¸å¿ƒ (2004/10/29 Fri 01:35:29)                Updated: 2004/10/29

â€» å¼•è¿°ã€Švividcat46.bbs@bbs.wretch.cc (ç¥•å¯†å¾·Ë™å‡±ç‰¹)ã€‹ä¹‹éŠ˜è¨€ï¼š
> æˆ‘æƒ³åœ¨ç«™å…§çš„ä½¿ç”¨é€™åˆ—è¡¨ ä¸€æŒ‰->éµå°±æœ‰é¡ä¼¼ä¸‹åˆ—çš„é¸å–®å‡ºç¾
> å¯ä»¥æ–¹ä¾¿äººå®¶èŠå¤©æˆ–ä¸Ÿæ°´çƒ.qåˆ¥äºº
> è¦å’Œä»–(å¥¹) (T)è«‡å¤©(F)ä¸‹äº”å­æ£‹(P)é¬¥å¯µç‰©(C)ä¸‹è±¡æ£‹(D)ä¸‹æš—æ£‹(N)æ²’äº‹æ‰¾éŒ¯äººäº†?[N]

  ä½¿ç”¨è€…åå–®æŒ‰ Enter å‡ºç¾
  æ‚¨æƒ³ Q)æŸ¥è©¢ T)è«‡å¤© 1)é»‘ç™½æ£‹ 2)äº”å­æ£‹ 3)åœæ£‹ 4)è»æ£‹ 5)æš—æ£‹ï¼Ÿ
  è‹¥æ˜¯é¸ 1~5 å‰‡ç›´æ¥é€²å…¥ä¸‹æ£‹ï¼Œä¸å†éœ€è¦æŒ‰ ^O

: ulist.c:ulist_talk()

- return XO_NONE;
+ return XO_FOOT;

: ulist.c:ulist_hello() æ–°å¢åœ¨ ulist_help() å‰é¢

int talk_state = 0;
/* -1:é›¢é–‹Talk 0:ä¸€èˆ¬Talk '1':äº”å­æ£‹ '2':äº”å­æ£‹ '3':åœæ£‹ '4':è»æ£‹ '5':æš—æ£‹ */

static int
ulist_hello(xo)
  XO *xo;
{
  int ch;
  UTMP *up;

  if (HAS_PERM(PERM_PAGE))
    ch = vans("æ‚¨æƒ³å’Œä»– Q)æŸ¥è©¢ T)è«‡å¤© 1)é»‘ç™½æ£‹ 2)äº”å­æ£‹ "
      "3)åœæ£‹ 4)è»æ£‹ 5)æš—æ£‹ï¼Ÿ[Q] ");
  else
    ch = 'q';

  if (ch == 't')
    return ulist_talk(xo);

  if (ch < '1' || ch > '5')
    return ulist_query(xo);

  /* ä¸‹æ£‹ */
  up = ulist_pool[xo->pos];
  if (can_override(up))
  {
    talk_state = ch;
    ch = talk_page(up);
    talk_state = 0;
  }
  return ch ? ulist_head(xo) : XO_FOOT;
}

: ulist.c:ulist_cb[]

- 'r', ulist_query,
+ 'r', ulist_hello,

: talk.c:talk_speak()

+ extern int talk_state;

static void
talk_speak(fd)
  int fd;
{
  ...

  for (;;)
  {
-   ch = vkey();
+   ch = (!talk_state) ? vkey() : (talk_state > 0) ? Ctrl('O') : Ctrl('C');

: talk.c:talk_page()

- if (vans("ç¢ºå®šè¦å’Œä»–/å¥¹è«‡å¤©å—(Y/N)ï¼Ÿ[N] ") != 'y')
+ if (vans("ç¢ºå®šè¦å’Œä»–/å¥¹è«‡å¤©/ä¸‹æ£‹å—(Y/N)ï¼Ÿ[N] ") != 'y')
    return 0;

  ...

- if (ans == 'y')
+ if (!talk_state && ans == 'y')
    talk_save();        /* lkchu.981201: talk è¨˜éŒ„è™•ç† */

: bwboard.c:main_board()

+ extern int talk_state;

static int
main_board(sock, later)
  int sock, later;
{
  ...

  if (!later)
  {
+   if (!talk_state)
      c = vans("æƒ³ä¸‹å“ªç¨®æ£‹ (1)é»‘ç™½æ£‹ ... (5)æš—æ£‹ (Q)å–æ¶ˆï¼Ÿ [Q] ");
+   else
+   {
+     c = talk_state;
+     talk_state = -1;
+   }


----------------------

  å¾ˆé«’çš„ä½œæ³•

  ä¸¦ä¸”æœ‰ä¸€å€‹ known problem æ˜¯ï¼š

  è‹¥è¢«é‚€è«‹ä¸‹æ£‹çš„é‚£å€‹äººæ²’æœ‰ UFO_NTLOG
  é‚£éº¼è¢«é‚€è«‹ä¸‹æ£‹çš„é‚£å€‹äººåœ¨çµæŸä¸‹æ£‹æ™‚ï¼Œç³»çµ±æœƒå°‹å•æ˜¯å¦å„²å­˜èŠå¤©è¨˜éŒ„
  (ä½†æ˜¯æ²’æœ‰å…§å®¹å¯ä¾›è¨˜éŒ„)

--
 [1;41mâ•­[44mâ”¼[m Or[1mig[30min[m: [43m Maple-itocË™å‹•åŠ›æ ¸å¿ƒ [35;47m processor.tfcis.org [m
 [1;42mâ”¼[45mâ”˜[m A[1mut[30mho[mr: [1;31mitoc [30må¾ [36mitoc.Dorm11.NCTU.edu.tw [30mç™¼è¡¨[m
