ç™¼ä¿¡äºº: itoc.bbs@cpu.tfcis.org (æ ¸å¿ƒå‹•åŠ›) çœ‹æ¿: plan
æ¨™  é¡Œ: [åŠŸèƒ½] æˆ‘çš„æœ€æ„›å‚™ä»½/é‚„åŸ
ç™¼ä¿¡ç«™: å‹•åŠ›æ ¸å¿ƒ (2007/04/11 Wed 21:40:53)                Updated: 2006/04/11

â€» å¼•è¿°ã€Šomatic (........)ã€‹ä¹‹éŠ˜è¨€ï¼š
> å› ç‚ºæˆ‘å€‘æœ‰åŠ æˆ‘çš„æœ€æ„›é‡æ–°æ’åºåŠŸèƒ½
> ä½†ä¹Ÿäº›äººæœƒä¸å°å¿ƒæŒ‰åˆ°
> æ‰€ä»¥æ–°å¢ "å‚™ä»½/é‚„åŸ"åŠŸèƒ½

: favor.c:mf_backup() æ–°å¢æ­¤å‡½å¼åœ¨ mf_help() å‰é¢

static int
mf_backup(xo)
  XO *xo;
{
  char srcfile[64], tmpfile[64];

  /* åªè™•ç†æˆ‘çš„æœ€æ„›ä¹‹é¦–é  */

  switch (vans("1)å‚™ä»½æˆ‘çš„æœ€æ„› 2)é‚„åŸæˆ‘çš„æœ€æ„›ï¼Ÿ[Q] "))
  {
  case '1':
    mf_fpath(srcfile, cuser.userid, FN_MF);
    mf_fpath(tmpfile, cuser.userid, FN_MF".bak");
    if (dashf(tmpfile))
      unlink(tmpfile);
    f_cp(srcfile, tmpfile, O_TRUNC);
    vmsg("å‚™ä»½å®Œæˆ");
    break;

  case '2':
    mf_fpath(srcfile, cuser.userid, FN_MF".bak");
    if (!dashf(srcfile))
    {
      vmsg("æ‚¨æ²’æœ‰ä»»ä½•å‚™ä»½");
    }
    else
    {
      mf_fpath(tmpfile, cuser.userid, FN_MF);
      f_cp(srcfile, tmpfile, O_TRUNC);
      vmsg("é‚„åŸå®Œæˆ");
      return XO_LOAD;
    }
  }

  return XO_FOOT;
}

: favor.c:mf_cb[]

+ 'B', mf_backup,
  'h', mf_help


--
[1;36m=[37m[[36mï¹[37m:[33m?[37mæ‘ƒ?[mâ—£?[1;33m?[37m:[36mï¹ [31mOrigin[37m ]|[[m  [0;31m?[1m?[1m?[0;31mO[0;31m?[1m?[1m?[0;31m?[1mcpu.tfcis.org  [37m]|[?[33mæŸèªª[m?[1;36mï¹[37m:][36m=[m
[1;36m=[0m[[1;36mï¹Š[37m:[33m?[30mæ‘ƒ?[mâ•±?[1;33m?[37m:[36mï¹Š [31mAuthor[m ]|[[1m218-168-176-148.dynamic.hi[m]|[?[1;33m?[30m?[37mæ’[30m?[36mï¹Š[37m:[m][1;36m=[m
