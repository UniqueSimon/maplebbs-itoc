ä½œè€…: itoc (League) çœ‹æ¿: plan
æ¨™é¡Œ: [åŠŸèƒ½] å›æ–‡è‡ªå‹•ç§»å‹•æ¸¸æ¨™åˆ°æœ€ä¸‹é¢
æ™‚é–“: 2004/01/12 Mon 10:49:08                           Updated: 2004/06/10

â€» å¼•è¿°ã€Šqazq.bbs@bbs.cs.nchu.edu.tw (ï¼­ï½ï½ï½Œï½…ï¼ï½‰ï½”ï½ï½ƒ)ã€‹ä¹‹éŠ˜è¨€ï¼š
>     å›æ–‡è‡ªå‹•ç§»å‹•æ¸¸æ¨™åˆ°æœ€ä¸‹é¢
>     ä¸çŸ¥é“è¦æ€éº¼å¯«æ‰å¯ä»¥å‹’ï¼Ÿ

: edit.c:ve_quote()

- static void
+ static int
ve_quote(this)
  textline *this;
{
  int fd, op;
+ int quote_lines = 0;
  FILE *fp;

  ...
  ...

        if (op == 'a')
        {
          while (fgets(str, ANSILINELEN - 2, fp))       /* ç•™ç©ºé–“çµ¦ "> " */
+         {
            this = ve_line(this, buf);
+           quote_lines++;
+         }
        }
        else
        {
          while (fgets(str, ANSILINELEN - 2, fp))       /* ç•™ç©ºé–“çµ¦ "> " */
          {
            if (is_quoted(str)) /* "--\n" */
              break;
            if (quote_line(str, op))
+           {
              this = ve_line(this, buf);
+             quote_lines++;
+           }
          }
        }
  ...
  ...

  this->next = next;
  if (next)
    next->prev = this;

+ return quote_lines;
}

: edit.c:vedit()

  textline *vln, *tmp;
  int cc, col, mode, margin, pos;
+ int quote_lines = 0;

  ...
  ...

  if (ve_op > 0)        /* itoc.010301: æ–°å¢ ve_op = -1 æ™‚ä¸èƒ½å„²å­˜ */
  {
-   ve_quote(vln);
+   quote_lines = ve_quote(vln);
  }

  ...
  ...

ve_key:

+   if (quote_lines)
+   {
+     quote_lines--;
+     cc = KEY_DOWN;
+   }
+   else
      cc = vkey();

    if (isprint2(cc))

--
  ç•¶ç„¶ï¼Œä½ å¯ä»¥æ–°å¢å€‹ UFO_XXXX ä¾†è®“ä½¿ç”¨è€…é¸æ“‡è¦ä¸è¦é€™åŠŸèƒ½

--
[1;37mâ–¡ æœ¬æ–‡ç« ç”± [33mitoc[37m å¾ [32mitoc.Dorm11.NCTU.edu.tw[37m ç™¼è¡¨[m
