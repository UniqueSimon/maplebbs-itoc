ç™¼ä¿¡äºº: itoc.bbs@processor.tfcis.org (æ ¸å¿ƒå‹•åŠ›) çœ‹æ¿: plan
æ¨™  é¡Œ: Re: [å•é¡Œ]Repostçš„åŸå§‹å…§å®¹ä¸ç®—åˆ°wordsnum
ç™¼ä¿¡ç«™: å‹•åŠ›æ ¸å¿ƒ (2004/09/23 Thu 13:49:46)                Updated: 2004/09/23

â€» å¼•è¿°ã€Šchwaian (ç„¡è¨€)ã€‹ä¹‹éŠ˜è¨€ï¼š
> ä½¿ç”¨è€…å¯ä»¥ä¸€ç›´repostå¯ä»¥é€ƒéæœ‰åšåµæ¸¬è¤‡è£½è²¼ä¸Šçš„æª¢æŸ¥
> è€Œå¤§é‡è³ºå–é‡‘å¹£
> æ˜¯æœ‰æƒ³éåœ¨
> ve_quoteè£¡å¦‚æœæ˜¯é¸æ“‡é‡è²¼å…¨æ–‡
> æ˜¯å¦å¯å¦ä¸€å€‹words_checkç®—å‡ºwordsnum2
> åœ¨æœ€å¾Œwords_checkä¹‹å¾Œå†æ‰£æ‰ ä¸¦ä¸”é¿å…æ‰£åˆ°å°æ–¼é›¶çš„ç‹€æ³
> ä¸çŸ¥é“æ˜¯å¦æœ‰äººæœ‰æ›´å¥½æƒ³æ³•çš„ è«‹æŒ‡æ•™

  ç™¼æ–‡ç¨¿è²»ç”± minimun{key-inæ¬¡æ•¸ã€æ–‡ç« å­—æ•¸ã€è€—è²»æ™‚é–“} ä¾†æ±ºå®š

: edit.c

int wordsnum;
+ int keysnum;

: edit.c:vedit()

  clear();

+ keysnum = 0;

  for (;;)
  {

    cc = vkey();

    if (isprint2(cc))
    {
      ve_char(cc);
+     keysnum++;
    }

: post.c

extern int wordsnum;
+ extern int keysnum;

: post.c:do_post()

-   if (currbattr & BRD_NOCOUNT || wordsnum < 30)
+   if (currbattr & BRD_NOCOUNT || (BMIN(wordsnum, keysnum)) < 30)
    {                           /* itoc.010408: ä»¥æ­¤æ¸›å°‘çŒæ°´ç¾è±¡ */
      outs("æ–‡ç« ä¸åˆ—å…¥ç´€éŒ„ï¼Œæ•¬è«‹åŒ…æ¶µã€‚");
    }
    else
    {
-     mode = BMIN(wordsnum, spendtime) / 10;    /* æ¯åå­—/ç§’ ä¸€å…ƒ */
+     mode = BMIN(wordsnum, spendtime);
+     mode = BMIN(mode, keysnum);
+     mode /= 10;                               /* æ¯å å­—/ç§’/éµ ä¸€å…ƒ */
      prints("é€™æ˜¯æ‚¨çš„ç¬¬ %d ç¯‡æ–‡ç« ï¼Œå¾— %d éŠ€ã€‚", ++cuser.numposts, mode);


--
 [1;41mâ•­[44mâ”¼[m Or[1mig[30min[m: [43m Maple-itocË™å‹•åŠ›æ ¸å¿ƒ [35;47m processor.tfcis.org [m
 [1;42mâ”¼[45mâ”˜[m A[1mut[30mho[mr: [1;31mitoc [30må¾ [36mpc512-12.ee.nctu.edu.tw [30mç™¼è¡¨[m
