ä½œè€…: itoc (æ ¸å¿ƒå‹•åŠ›) ç«™å…§: itoc
æ¨™é¡Œ: Re: é™åˆ¶ä¸é™æ¬¡æ•¸é€£çºŒæ¨æ–‡çš„å•é¡Œ?
æ™‚é–“: 2005/04/06 Wed 22:56:09                           Updated: 2005/04/07

â€» å¼•è¿°ã€Šcomfan (é›£é  å‚·å¿ƒ)ã€‹ä¹‹éŠ˜è¨€ï¼š
> è«‹å•æ˜¯å¦å¯ä»¥ç”¨æ¨æ–‡æ‰£é‡‘å¹£æˆ–éŠ€å¹£çš„æ–¹å¼é™åˆ¶åŒä¸€å€‹idé€£çºŒæ€§æ¨æ–‡è¡Œç‚º
> ä¾‹å¦‚:æ¨æ–‡ä¸€æ¬¡  å¿…é ˆèŠ±è²»1000å€‹å–®ä½çš„é‡‘å¹£

: post.c:post_score()

+ if (HAS_STATUS(STATUS_COINLOCK))
+ {
+   vmsg(msg_coinlock);
+   return XO_FOOT;
+ }

+ if (cuser.money < 1000)
+ {
+   vmsg("è¦ 1000 éŠ€å¹£æ‰èƒ½è©•åˆ†");
+   return XO_FOOT;
+ }

  pos = xo->pos;
  cur = pos - xo->top;
  hdr = (HDR *) xo_pool + cur;

  ...
  ...

+ cuser.money -= 1000;

  if (curraddscore)
  {
    currchrono = hdr->chrono;
    rec_ref(dir, hdr, sizeof(HDR), xo->key == XZ_XPOST ?
      hdr->xid : pos, cmpchrono, addscore);
    return XO_LOAD;
  }

--
 [1;43mâ—¤[46mâ—¥[m Or[1mig[30min[m: [41m Maple-itocË™å‹•åŠ›æ ¸å¿ƒ [36;47m cpu.tfcis.org [m
 [1;44mâ—£[41mâ—¢[m A[1mut[30mho[mr: [1;33mitoc [30må¾ [31mitoc.Dorm11.NCTU.edu.tw [30mç™¼è¡¨[m
